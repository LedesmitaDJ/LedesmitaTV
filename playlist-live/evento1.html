<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Evento 1 - Mundial 2026</title>
    <link rel="stylesheet" href="../css/countdown.css">
    <style>
        body {
            background-color: black;
            background-image: url('../img/starfall-night-sky-mountains-aesthetic-gif-preview-desktop-wallpaper.gif');
            /* Cambia 'ruta/a/tu/imagen.jpg' */
            background-size: cover;
            /* Cubre todo el elemento sin deformar */
            background-position: center;
            /* Centra la imagen */
            background-repeat: no-repeat;
            /* Evita que la imagen se repita */
            background-attachment: fixed;
            /* Fija la imagen al hacer scroll */
            margin: 0;
            /* Elimina márgenes por defecto del body */
            padding: 0;
            /* Elimina padding por defecto del body */
            height: 100vh;
            /* Asegura que el body ocupe el 100% del viewport */
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 2px;
            text-align: center;
        }

        #player {
            width: 100%;
            max-width: 800px;
            height: 450px;
            margin: 0 auto;
            border: none;
        }

        #playlist {
            display: flex;
            flex-direction: column;
            overflow-y: auto;
            overflow-x: hidden;
            gap: 10px;
            padding: 1px;
            background-color: #fff;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            max-width: 800px;
            max-height: 400px;
            /* Altura máxima para permitir scroll vertical */
            margin: 0 auto;
        }

        .playlist-item {
            flex-shrink: 0;
            width: auto;
            /* Ocupa el ancho completo del contenedor */
            text-align: center;
            cursor: pointer;
            border: 2px solid transparent;
            border-radius: 5px;
            padding: 5px;
            transition: border-color 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
            /* Espacio entre imagen y texto */
        }

        .playlist-item.selected {
            border-color: #007bff;
            background-color: #e9ecef;
        }

        .playlist-item img {
            width: 120px;
            /* Ancho fijo para la imagen */
            height: 67px;
            /* Altura proporcional */
            object-fit: cover;
            border-radius: 3px;
            flex-shrink: 0;
        }

        .playlist-item p {
            margin: 0;
            font-size: 14px;
            font-weight: bold;
            flex-grow: 1;
            text-align: left;
        }

        .live-button {
            display: inline-block;
            align-items: center;
            padding: 5px 10px;
            border-radius: 5px;
            background-color: #ff3737;
            /* Color rojo para dar énfasis a "En vivo" */
            color: #ffffff;
            font-weight: bold;
        }

        .live-icon {
            display: inline-block;
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background-color: #ffffff;
            margin-right: 5px;
            animation: pulse 1.25s infinite;
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
                opacity: 1;
            }

            50% {
                transform: scale(1.3);
                opacity: 0.7;
            }

            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        .live-text {
            font-size: 6vw;
        }

        /* Responsive design */
        @media (max-width: 768px) {
            #player {
                height: 250px;
                /* Altura reducida en móviles */
                max-width: 100%;
            }

            #playlist {
                gap: 5px;
                margin: 0 auto;
                max-height: 450px;
                /* Altura reducida en móviles */
            }

            .playlist-item {
                padding: 3px;
            }

            .playlist-item img {
                width: 100px;
                height: 56px;
            }

            .playlist-item p {
                font-size: 12px;
            }
        }

        @media (max-width: 480px) {
            #player {
                height: 200px;
            }

            #playlist {
                max-height: 450px;
            }

            .playlist-item img {
                width: 95px;
                height: 100%;
            }

            .playlist-item p {
                font-size: 15px;
            }
        }
    </style>
</head>

<body>
    <h1 style="color: #fff;" hidden>Mundial 2026</h1>
    <p style="color: #fff;" hidden>Haz doble clic en un elemento de la playlist para editar su título, miniatura y URL.
    </p>
    <!-- Sección Countdown Evento -->
    <center>
        <div class="container-timer">
            <a title="Countdown WC26">
                <img src="../img/Banner-WC26-1000x250.png" class="background-timer" alt="countdown" />
            </a>
            <video class="timer-video-wc26" autoplay loop muted>
                <source src="../vid/WC26 Logo 01.webm" type="video/webm">
                Tu navegador no soporta la reproducción de video.
            </video>
            <div id="timer1" class="timer1">
                <span id="days1">00</span>
                <span>:</span>
                <span id="hours1">00</span>
                <span>:</span>
                <span id="minutes1">00</span>
                <span>:</span>
                <span id="seconds1">00</span>
            </div>
            <span>
                <div id="liveButton1" class="timer-button1 live-button">
                    <span class="live-icon"></span>
                    <span class="live-text">En vivo</span>
                </div>
            </span>

        </div>
    </center>
    <iframe id="player" src="" allowfullscreen></iframe>
    <div id="playlist"></div>

    <script>
        // Array de playlist: url (URL completa del embed), title, thumbnail
        let playlist = [
            {
                url: "../live/caracol-tv.html", // Shroud
                title: "Caracol TV",
                thumbnail: "../img/Caracol-TV-200x200.png"
            },
            {
                url: "../live/caracolhd2.html", // Shroud
                title: "Caracol HD2",
                thumbnail: "../img/Caracol-HD2-200x200.png"
            },
            {
                url: "https://streamtpcloud.com/global2.php?stream=winsports", // Video de Dailymotion
                title: "Win Sports: Señal 1",
                thumbnail: "../img/Win-Sports-200x200.png" // Ajusta según sea necesario
            },
            {
                url: "https://la14hd.com/vivo/canales.php?stream=winsports", // Video de Dailymotion
                title: "Win Sports: Señal 2",
                thumbnail: "../img/Win-Sports-200x200.png" // Ajusta según sea necesario
            },
            {
                url: "https://streamtpcloud.com/global2.php?stream=winplus", // Video de Dailymotion
                title: "Win Sports +: Señal 1",
                thumbnail: "../img/Win-Sports+-200x200.png" // Ajusta según sea necesario
            },
            {
                url: "https://streamtpcloud.com/global2.php?stream=winplus2", // Video de Dailymotion
                title: "Win Sports +: Señal 2",
                thumbnail: "../img/Win-Sports+-200x200.png" // Ajusta según sea necesario
            },
            // Nuevos añadidos
            {
                url: "https://streamtpcloud.com/global2.php?stream=dsports", // Despacito
                title: "DSports",
                thumbnail: "../img/DSports-200x200.png"
            },
            {
                url: "https://la14hd.com/vivo/canales.php?stream=dsports2", // Shroud
                title: "DSports 2",
                thumbnail: "../img/DSports2-200x200.png"
            }
        ];

        // Cargar playlist desde localStorage si existe
        const savedPlaylist = localStorage.getItem('playlist');
        if (savedPlaylist) {
            playlist = JSON.parse(savedPlaylist);
        }

        const player = document.getElementById('player');
        const playlistContainer = document.getElementById('playlist');
        let currentIndex = 0;

        // Función para cargar un video/transmisión
        function loadVideo(index) {
            const item = playlist[index];
            player.src = item.url;
            // Resaltar el seleccionado
            document.querySelectorAll('.playlist-item').forEach((el, i) => {
                el.classList.toggle('selected', i === index);
            });
            currentIndex = index;
        }

        // Función para editar un elemento (doble clic)
        function editItem(index) {
            const item = playlist[index];
            const newUrl = prompt("Editar URL del embed:", item.url);
            const newTitle = prompt("Editar título:", item.title);
            const newThumbnail = prompt("Editar URL de miniatura:", item.thumbnail);
            if (newUrl !== null && newTitle !== null && newThumbnail !== null) {
                playlist[index].url = newUrl;
                playlist[index].title = newTitle;
                playlist[index].thumbnail = newThumbnail;
                localStorage.setItem('playlist', JSON.stringify(playlist)); // Guardar cambios
                renderPlaylist(); // Re-renderizar la playlist
            }
        }

        // Función para renderizar la playlist
        function renderPlaylist() {
            playlistContainer.innerHTML = ''; // Limpiar
            playlist.forEach((item, index) => {
                const div = document.createElement('div');
                div.className = 'playlist-item';
                if (index === currentIndex) div.classList.add('selected');
                div.innerHTML = `
                    <img src="${item.thumbnail}" alt="${item.title}">
                    <p>${item.title}</p>
                `;
                div.addEventListener('click', () => loadVideo(index));
                div.addEventListener('dblclick', () => editItem(index)); // Doble clic para editar
                playlistContainer.appendChild(div);
            });
        }

        // Renderizar playlist inicial
        renderPlaylist();

        // Cargar el primer video por defecto
        loadVideo(0);
    </script>
    <script src="../js/countdown.js"></script>
</body>

</html>